<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—­ì‚° ì˜ˆì‚° ê³„ì‚° ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }

        .section-title {
            font-size: 1.8em;
            color: #495057;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
        }

        .section-title::before {
            content: "ğŸ“Š";
            margin-right: 10px;
            font-size: 1.2em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1em;
        }

        td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }

        tr:hover {
            background-color: #f1f3f5;
        }

        tr:last-child td {
            border-bottom: none;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ced4da;
            border-radius: 8px;
            font-size: 1em;
            text-align: center;
            transition: all 0.3s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .result {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1em;
            background: #e7f3ff;
            padding: 12px;
            border-radius: 8px;
        }

        .total-row {
            background: #fff3cd !important;
            font-weight: 700;
            font-size: 1.15em;
        }

        .total-row td {
            border-top: 3px solid #ffc107;
        }

        .label {
            font-weight: 600;
            color: #495057;
            text-align: left;
            padding-left: 20px;
        }

        .infrastructure-item {
            background: #e7f3ff;
        }

        .main-budget {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border-radius: 15px;
            color: white;
        }

        .main-budget label {
            font-size: 1.5em;
            font-weight: 600;
            display: block;
            margin-bottom: 15px;
        }

        .main-budget .result-value {
            font-size: 2.5em;
            font-weight: 700;
            margin-top: 10px;
        }

        .won {
            font-size: 0.9em;
            color: #6c757d;
            margin-left: 5px;
        }

        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: 700;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #0c5460;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .support-per-company {
            background: #d4edda;
        }

        .infra-total-row {
            background: #cfe2ff !important;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ ì—­ì‚° ì˜ˆì‚° ê³„ì‚° ì‹œìŠ¤í…œ</h1>
        <p class="subtitle">í•„ìš”í•œ ì˜ˆì‚°ì„ ì…ë ¥í•˜ë©´ ì´ ê¸ˆì•¡ì´ ìë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤</p>

        <div class="main-budget">
            <label>ğŸ’° ì´ í•„ìš” ì˜ˆì‚°</label>
            <div class="result-value" id="totalBudget">0</div>
            <span style="font-size: 1.2em;">ì›</span>
        </div>

        <!-- 1. ì˜ˆì‚° ì…ë ¥ ì„¹ì…˜ -->
        <div class="section">
            <div class="section-title">ë¶„ì•¼ë³„ ì˜ˆì‚° ì…ë ¥ (ê¸ˆì•¡)</div>
            <div class="info-box">
                ğŸ“Œ ê° ë¶„ì•¼ì— í•„ìš”í•œ ê¸ˆì•¡ì„ ì…ë ¥í•˜ë©´ ì´ ì˜ˆì‚°ì´ ìë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.
            </div>
            <table>
                <tr>
                    <th style="width: 40%;">ë¶„ì•¼</th>
                    <th style="width: 30%;">í•„ìš” ê¸ˆì•¡ (ì›)</th>
                    <th style="width: 30%;">ë¹„ìœ¨ (%)</th>
                </tr>
                <tr>
                    <td class="label">ì»¨ì„¤íŒ…</td>
                    <td><input type="number" id="consultingAmount" value="500000000" min="0" oninput="calculate()"></td>
                    <td class="result" id="consultingRatio">50.0</td>
                </tr>
                <tr>
                    <td class="label">ì¸í”„ë¼</td>
                    <td><input type="number" id="infraAmount" value="300000000" min="0" oninput="calculate()"></td>
                    <td class="result" id="infraRatio">30.0</td>
                </tr>
                <tr>
                    <td class="label">êµìœ¡</td>
                    <td><input type="number" id="educationAmount" value="150000000" min="0" oninput="calculate()"></td>
                    <td class="result" id="educationRatio">15.0</td>
                </tr>
                <tr>
                    <td class="label">ê¸°íƒ€</td>
                    <td><input type="number" id="etcAmount" value="50000000" min="0" oninput="calculate()"></td>
                    <td class="result" id="etcRatio">5.0</td>
                </tr>
                <tr class="total-row">
                    <td class="label">í•©ê³„</td>
                    <td class="result" id="totalAmount">1,000,000,000</td>
                    <td class="result" id="totalRatio">100.0</td>
                </tr>
            </table>
        </div>

        <!-- 2. ì¸í”„ë¼ ìƒì„¸ ì„¹ì…˜ (ê°œë³„ ì†”ë£¨ì…˜ ì…ë ¥) -->
        <div class="section">
            <div class="section-title">ì¸í”„ë¼ ìƒì„¸ (ê° ì†”ë£¨ì…˜ë³„ ì˜ˆì‚° ì…ë ¥)</div>
            <div class="info-box">
                ğŸ“Œ ê° ì¸í”„ë¼ ì†”ë£¨ì…˜ì— í•„ìš”í•œ ê¸ˆì•¡ì„ ì…ë ¥í•˜ë©´ ì¸í”„ë¼ ì´ì•¡ê³¼ ì „ì²´ ì˜ˆì‚°ì´ ìë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.
            </div>
            <table>
                <tr>
                    <th style="width: 30%;">ì†”ë£¨ì…˜</th>
                    <th style="width: 35%;">í•„ìš” ê¸ˆì•¡ (ì›)</th>
                    <th style="width: 35%;">êµ¬ë§¤ ê°€ëŠ¥ ìˆ˜ëŸ‰ (ê°œ)</th>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸ“§ ë©”ì¼</td>
                    <td><input type="number" id="mailBudget" value="50000000" min="0" oninput="calculateInfra()"></td>
                    <td class="result" id="mailCount">-</td>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸ›¡ï¸ ì•…ì„±ì½”ë“œë¶„ì„</td>
                    <td><input type="number" id="malwareBudget" value="75000000" min="0" oninput="calculateInfra()"></td>
                    <td class="result" id="malwareCount">-</td>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸŒ ë„¤íŠ¸ì›Œí¬í†µì œ</td>
                    <td><input type="number" id="networkBudget" value="100000000" min="0" oninput="calculateInfra()"></td>
                    <td class="result" id="networkCount">-</td>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸ’¾ ë°±ì—…ë³µêµ¬</td>
                    <td><input type="number" id="backupBudget" value="75000000" min="0" oninput="calculateInfra()"></td>
                    <td class="result" id="backupCount">-</td>
                </tr>
                <tr class="infra-total-row">
                    <td class="label">ì¸í”„ë¼ ì´ì•¡</td>
                    <td class="result highlight" id="infraTotalAmount">300,000,000</td>
                    <td class="result" id="infraTotalRatio">-</td>
                </tr>
            </table>
            
            <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px; border-left: 5px solid #ffc107;">
                <strong>ğŸ’¡ ì°¸ê³ :</strong> ê° ì†”ë£¨ì…˜ì˜ êµ¬ë§¤ ê°€ëŠ¥ ìˆ˜ëŸ‰ì„ ë³´ë ¤ë©´ ì•„ë˜ì—ì„œ 1ê°œë‹¹ ë¼ì´ì„¼ìŠ¤ ë¹„ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.
            </div>

            <table style="margin-top: 20px;">
                <tr>
                    <th style="width: 30%;">ì†”ë£¨ì…˜</th>
                    <th style="width: 35%;">1 ë¼ì´ì„¼ìŠ¤ ë¹„ìš© (ì›)/ì›”</th>
                    <th style="width: 35%;">êµ¬ë§¤ ê°€ëŠ¥ ìˆ˜ëŸ‰ (ê°œ)</th>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸ“§ ë©”ì¼</td>
                    <td><input type="number" id="mailCost" value="1000" min="0" oninput="calculateLicenses()"></td>
                    <td class="result" id="mailLicenseCount">50,000</td>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸ›¡ï¸ ì•…ì„±ì½”ë“œë¶„ì„</td>
                    <td><input type="number" id="malwareCost" value="2000" min="0" oninput="calculateLicenses()"></td>
                    <td class="result" id="malwareLicenseCount">37,500</td>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸŒ ë„¤íŠ¸ì›Œí¬í†µì œ</td>
                    <td><input type="number" id="networkCost" value="1500" min="0" oninput="calculateLicenses()"></td>
                    <td class="result" id="networkLicenseCount">66,666</td>
                </tr>
                <tr class="infrastructure-item">
                    <td class="label">ğŸ’¾ ë°±ì—…ë³µêµ¬</td>
                    <td><input type="number" id="backupCost" value="2500" min="0" oninput="calculateLicenses()"></td>
                    <td class="result" id="backupLicenseCount">30,000</td>
                </tr>
            </table>
        </div>

        <!-- 3. ê¸°ì—…ë‹¹ í•„ìš” ê¸ˆì•¡ ì„¹ì…˜ -->
        <div class="section">
            <div class="section-title">ê¸°ì—…ë‹¹ í•„ìš” ê¸ˆì•¡ ê³„ì‚°</div>
            <div class="info-box">
                ğŸ“Œ ì§€ì› ëŒ€ìƒ ê¸°ì—… ìˆ˜ë¥¼ ì…ë ¥í•˜ë©´ ê° ê¸°ì—…ì´ ë°›ì„ ìˆ˜ ìˆëŠ” ë¶„ì•¼ë³„ ê¸ˆì•¡ì´ ê³„ì‚°ë©ë‹ˆë‹¤.
            </div>
            <div style="text-align: center; margin: 30px 0;">
                <label style="font-size: 1.3em; font-weight: 600; margin-right: 15px;">ğŸ¢ ì§€ì› ëŒ€ìƒ ê¸°ì—… ìˆ˜:</label>
                <input type="number" id="companyCount" value="10" min="1" style="width: 150px; padding: 12px; font-size: 1.2em; text-align: center; border: 2px solid #667eea; border-radius: 8px;" oninput="calculate()">
                <span style="font-size: 1.2em; margin-left: 10px;">ê°œ ê¸°ì—…</span>
            </div>
            <table>
                <tr>
                    <th style="width: 40%;">ë¶„ì•¼</th>
                    <th style="width: 30%;">ì´ í•„ìš” ê¸ˆì•¡ (ì›)</th>
                    <th style="width: 30%;">ê¸°ì—…ë‹¹ ì§€ì› ê¸ˆì•¡ (ì›)</th>
                </tr>
                <tr class="support-per-company">
                    <td class="label">ì»¨ì„¤íŒ…</td>
                    <td class="result" id="consultingTotal">500,000,000</td>
                    <td class="result highlight" id="consultingPerCompany">50,000,000</td>
                </tr>
                <tr class="support-per-company">
                    <td class="label">ì¸í”„ë¼ (ì „ì²´)</td>
                    <td class="result" id="infraTotal">300,000,000</td>
                    <td class="result highlight" id="infraPerCompany">30,000,000</td>
                </tr>
                <tr class="support-per-company">
                    <td class="label">êµìœ¡</td>
                    <td class="result" id="educationTotal">150,000,000</td>
                    <td class="result highlight" id="educationPerCompany">15,000,000</td>
                </tr>
                <tr class="support-per-company">
                    <td class="label">ê¸°íƒ€</td>
                    <td class="result" id="etcTotal">50,000,000</td>
                    <td class="result highlight" id="etcPerCompany">5,000,000</td>
                </tr>
                <tr class="total-row">
                    <td class="label">ì „ì²´ í•©ê³„</td>
                    <td class="result" id="grandTotal">1,000,000,000</td>
                    <td class="result highlight" id="totalPerCompany">100,000,000</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        function formatNumber(num) {
            return Math.floor(num).toLocaleString('ko-KR');
        }

        function calculateInfra() {
            // ê° ì¸í”„ë¼ ì†”ë£¨ì…˜ ê¸ˆì•¡ í•©ì‚°
            const mailBudget = parseFloat(document.getElementById('mailBudget').value) || 0;
            const malwareBudget = parseFloat(document.getElementById('malwareBudget').value) || 0;
            const networkBudget = parseFloat(document.getElementById('networkBudget').value) || 0;
            const backupBudget = parseFloat(document.getElementById('backupBudget').value) || 0;

            const infraTotal = mailBudget + malwareBudget + networkBudget + backupBudget;

            // ì¸í”„ë¼ ì´ì•¡ í‘œì‹œ
            document.getElementById('infraTotalAmount').textContent = formatNumber(infraTotal);
            
            // ì¸í”„ë¼ ê¸ˆì•¡ì„ ë©”ì¸ ì¸í”„ë¼ ì…ë ¥ë€ì— ë°˜ì˜
            document.getElementById('infraAmount').value = infraTotal;
            
            // ë¼ì´ì„¼ìŠ¤ ê³„ì‚°ë„ í•¨ê»˜ ìˆ˜í–‰
            calculateLicenses();
            
            // ì „ì²´ ê³„ì‚°
            calculate();
        }

        function calculateLicenses() {
            // ê° ì†”ë£¨ì…˜ ì˜ˆì‚°
            const mailBudget = parseFloat(document.getElementById('mailBudget').value) || 0;
            const malwareBudget = parseFloat(document.getElementById('malwareBudget').value) || 0;
            const networkBudget = parseFloat(document.getElementById('networkBudget').value) || 0;
            const backupBudget = parseFloat(document.getElementById('backupBudget').value) || 0;

            // ë¼ì´ì„¼ìŠ¤ ë¹„ìš©
            const mailCost = parseFloat(document.getElementById('mailCost').value) || 1;
            const malwareCost = parseFloat(document.getElementById('malwareCost').value) || 1;
            const networkCost = parseFloat(document.getElementById('networkCost').value) || 1;
            const backupCost = parseFloat(document.getElementById('backupCost').value) || 1;

            // êµ¬ë§¤ ê°€ëŠ¥ ìˆ˜ëŸ‰ ê³„ì‚°
            const mailCount = Math.floor(mailBudget / mailCost);
            const malwareCount = Math.floor(malwareBudget / malwareCost);
            const networkCount = Math.floor(networkBudget / networkCost);
            const backupCount = Math.floor(backupBudget / backupCost);

            document.getElementById('mailLicenseCount').textContent = formatNumber(mailCount) + ' ê°œ';
            document.getElementById('malwareLicenseCount').textContent = formatNumber(malwareCount) + ' ê°œ';
            document.getElementById('networkLicenseCount').textContent = formatNumber(networkCount) + ' ê°œ';
            document.getElementById('backupLicenseCount').textContent = formatNumber(backupCount) + ' ê°œ';
        }

        function calculate() {
            // ê° ë¶„ì•¼ ê¸ˆì•¡ ê°€ì ¸ì˜¤ê¸°
            const consultingAmount = parseFloat(document.getElementById('consultingAmount').value) || 0;
            const infraAmount = parseFloat(document.getElementById('infraAmount').value) || 0;
            const educationAmount = parseFloat(document.getElementById('educationAmount').value) || 0;
            const etcAmount = parseFloat(document.getElementById('etcAmount').value) || 0;

            // ì´ ì˜ˆì‚° ê³„ì‚°
            const totalBudget = consultingAmount + infraAmount + educationAmount + etcAmount;

            // ì´ ì˜ˆì‚° í‘œì‹œ
            document.getElementById('totalBudget').textContent = formatNumber(totalBudget);
            document.getElementById('totalAmount').textContent = formatNumber(totalBudget);

            // ë¹„ìœ¨ ê³„ì‚°
            if (totalBudget > 0) {
                const consultingRatio = (consultingAmount / totalBudget) * 100;
                const infraRatio = (infraAmount / totalBudget) * 100;
                const educationRatio = (educationAmount / totalBudget) * 100;
                const etcRatio = (etcAmount / totalBudget) * 100;

                document.getElementById('consultingRatio').textContent = consultingRatio.toFixed(1);
                document.getElementById('infraRatio').textContent = infraRatio.toFixed(1);
                document.getElementById('educationRatio').textContent = educationRatio.toFixed(1);
                document.getElementById('etcRatio').textContent = etcRatio.toFixed(1);
                document.getElementById('totalRatio').textContent = '100.0';
            } else {
                document.getElementById('consultingRatio').textContent = '0.0';
                document.getElementById('infraRatio').textContent = '0.0';
                document.getElementById('educationRatio').textContent = '0.0';
                document.getElementById('etcRatio').textContent = '0.0';
                document.getElementById('totalRatio').textContent = '0.0';
            }

            // ê¸°ì—…ë‹¹ ì§€ì› ê¸ˆì•¡ ê³„ì‚°
            const companyCount = parseFloat(document.getElementById('companyCount').value) || 1;

            document.getElementById('consultingTotal').textContent = formatNumber(consultingAmount);
            document.getElementById('infraTotal').textContent = formatNumber(infraAmount);
            document.getElementById('educationTotal').textContent = formatNumber(educationAmount);
            document.getElementById('etcTotal').textContent = formatNumber(etcAmount);
            document.getElementById('grandTotal').textContent = formatNumber(totalBudget);

            document.getElementById('consultingPerCompany').textContent = formatNumber(consultingAmount / companyCount);
            document.getElementById('infraPerCompany').textContent = formatNumber(infraAmount / companyCount);
            document.getElementById('educationPerCompany').textContent = formatNumber(educationAmount / companyCount);
            document.getElementById('etcPerCompany').textContent = formatNumber(etcAmount / companyCount);
            document.getElementById('totalPerCompany').textContent = formatNumber(totalBudget / companyCount);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê³„ì‚°
        calculateInfra();
        calculateLicenses();
        calculate();
    </script>
</body>
</html>